<?xml version="1.0" ?>
<test>
  <statechart>

    <datamodel>
      x = 5;
    </datamodel>

    <inport name="in">
      <event name="start"/>
    </inport>

    <outport name="out">
      <event name="done"/>
    </outport>

    <root initial="s1">
      <state id="s1">
        <onentry>
          <!-- create variable 'y' in state scope -->
          <code> y = 6; </code>
        </onentry>
        <!-- condition can see 'y' -->
        <transition  target="/s2" cond="x &lt; y"/>
        <onexit>
          <!-- exit actions also use state scope -->
          <code> x = y; </code>
        </onexit>
      </state>

      <state id="s2">
        <!-- we cannot access variable 'y' here -->
        <transition cond="x == 6" target=".">
          <code> x = 7; </code>
          <raise event="done"/>
        </transition>
      </state>
    </root>

  </statechart>

  <input>
    <event name="start" port="in" time="0 d"/>
  </input>

  <output>
    <big_step>
      <event name="done" port="out"/>
    </big_step>
  </output>
</test>