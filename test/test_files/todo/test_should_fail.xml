<?xml version="1.0" ?>
<test>
  <statechart>
    <!-- this test succeeds, but it should fail:
         the transition's guard should have no access to the function 'f' declared in the transition's action code.
         to fix this, the transition's action code should have its own scope (and hence, stack frame),
         and so should the transition's guard.
         the "transition scope" should only be used for event parameters.  -->
    <root>
      <state id="A">
        <transition event="e(i: int)" guard="f(i) == 0" target=".">
          <code> f = func(j: int) { return j+1; }; </code>
        </transition>
      </state>
    </root>
  </statechart>
</test>